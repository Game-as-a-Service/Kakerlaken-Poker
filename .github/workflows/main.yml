name: :construction_worker:CI

on:
  push:
    branches: ["main"]
  pull_request:
    types: [opened, synchronize]

jobs:
  lanuch_turbo_remote_cache_server:
    uses: ./.github/workflows/lanuchTurboRemoteCacheServer.yml
    secrets: inherit

  install:
    uses: ./.github/workflows/install.yml
    secrets: inherit

  check_lint:
    needs: ["install", "lanuch_turbo_remote_cache_server"]
    uses: ./.github/workflows/checkLint.yml
    secrets: inherit

  check_type:
    needs: ["install", "lanuch_turbo_remote_cache_server"]
    uses: ./.github/workflows/checkType.yml
    secrets: inherit

  unit_test:
    needs: ["install", "lanuch_turbo_remote_cache_server"]
    uses: ./.github/workflows/unitTest.yml
    secrets: inherit

  Ready_To_Review:
    needs: [check_lint, check_type, unit_test]
    runs-on: ubuntu-latest
    steps:
      - name: Reminder to review
        run: echo 'Please review this PR!'
